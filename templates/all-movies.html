<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Bee Movie Cinema{% endblock %}</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <style>

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', sans-serif;
    }

    body {
      background-color: #f5f5f5;
      color: #333;
    }

    header {
      background-color: #222;
      color: #fff;
      padding: 15px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    header h1 {
      font-size: 24px;
    }

    nav a {
      color: #fff;
      text-decoration: none;
      margin-left: 20px;
      font-weight: 500;
    }

    nav a:hover {
      color: #ffcc00;
    }

    .search-bar {
      background: gold;
      padding: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 10px;
    }

    .search-bar input {
      flex: 1;
      padding: 10px;
      border: 1px solid black;
      border-radius: 6px;
    }

    .search-bar select {
      padding: 10px;
      border: 1px solid black;
      border-radius: 6px;
    }

    .movie-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr); /* 4 phim mỗi hàng */
        gap: 20px;
        padding: 30px;
    }

    @media (max-width: 992px) {
        .movie-grid {
            grid-template-columns: repeat(3, 1fr); /* màn hình trung bình hiển thị 3 */
        }
    }

    @media (max-width: 768px) {
        .movie-grid {
            grid-template-columns: repeat(2, 1fr); /* tablet: 2 phim mỗi hàng */
        }
    }

    @media (max-width: 480px) {
        .movie-grid {
            grid-template-columns: 2fr; /* điện thoại: 1 phim mỗi hàng */
        }
    }

    .movie-card {
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      overflow: hidden;
      transition: transform 0.3s;
      cursor: pointer;
    }

    .movie-card:hover {
      transform: translateY(-5px);
    }

    .movie-card img {
      width: 100%;
      height: 300px;
      object-fit: cover;
    }

    .movie-info {
      padding: 15px;
    }

    .movie-info h3 {
      font-size: 18px;
      margin-bottom: 5px;
    }

    .movie-info p {
      font-size: 14px;
      color: #666;
    }

    /* MODAL */
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.7);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    .modal-content {
      background: #fff;
      border-radius: 10px;
      width: 90%;
      max-width: 600px;
      padding: 20px;
      position: relative;
    }

    .close-btn {
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 20px;
      cursor: pointer;
    }

    .modal-content img {
      width: 100%;
      border-radius: 8px;
      margin-bottom: 15px;
    }

    .modal-content h2 {
      margin-bottom: 10px;
    }

    .modal-content p {
      margin-bottom: 8px;
      color: #555;
    }

    footer {
      text-align: center;
      padding: 15px;
      background: #222;
      color: #fff;
      margin-top: 30px;
    }
  </style>
</head>

<body>
    <div class="header-space">{% include "header.html" %}</div>

  <div class="search-bar">
    <input type="text" id="searchInput" placeholder="Tìm kiếm phim...">
    <select id="genreFilter">
      <option value="all">Tất cả thể loại</option>
      <option value="Hành động">Hành động</option>
      <option value="Hài">Hài</option>
      <option value="Tình cảm">Tình cảm</option>
      <option value="Kinh dị">Kinh dị</option>
    </select>
  </div>

  <main>
    <div class="movie-grid" id="movieGrid"></div>
  </main>

  <!-- Modal Chi tiết phim -->
  <div class="modal" id="movieModal">
    <div class="modal-content">
      <span class="close-btn" id="closeModal">&times;</span>
      <img id="modalImage" src="" alt="">
      <h2 id="modalTitle"></h2>
      <p id="modalGenre"></p>
      <p id="modalDesc"></p>
    </div>
  </div>

  <footer>
    &copy; 2025 BeeMovies Cinemas. All rights reserved.
  </footer>

  <script>
    const movies = [
      {
        title: "Deadpool",
        genre: "Hành động",
        desc: "Một nhóm siêu anh hùng cùng nhau bảo vệ thế giới khỏi mối đe dọa ngoài hành tinh.",
        img: "https://images.unsplash.com/photo-1502139214982-d0ad755818d8"
      },
      {
        title: "Mai",
        genre: "Tình cảm",
        desc: "Một câu chuyện lãng mạn giữa hai con người gặp nhau giữa những cơn mưa.",
        img: "https://images.unsplash.com/photo-1542206395-9feb3edaa68e"
      },
      {
        title: "Bộ tứ siêu đẳng",
        genre: "Hài",
        desc: "Những tình huống hài hước trong cuộc sống khiến ai cũng phải bật cười.",
        img: "https://images.unsplash.com/photo-1522120692534-7a1b6c4a67a2"
      },
      {
        title: "Nhà ma Xó",
        genre: "Kinh dị",
        desc: "Một nhóm bạn khám phá căn nhà bỏ hoang và phát hiện những bí ẩn rùng rợn.",
        img: "https://images.unsplash.com/photo-1519337265831-281ec6cc8514"
      },      {
        title: "Bộ tứ siêu đẳng",
        genre: "Hài",
        desc: "Những tình huống hài hước trong cuộc sống khiến ai cũng phải bật cười.",
        img: "https://images.unsplash.com/photo-1522120692534-7a1b6c4a67a2"
      },
      {
        title: "Bộ tứ siêu đẳng",
        genre: "Hài",
        desc: "Những tình huống hài hước trong cuộc sống khiến ai cũng phải bật cười.",
        img: "https://images.unsplash.com/photo-1522120692534-7a1b6c4a67a2"
      },
      {
        title: "Bộ tứ siêu đẳng",
        genre: "Hài",
        desc: "Những tình huống hài hước trong cuộc sống khiến ai cũng phải bật cười.",
        img: "https://images.unsplash.com/photo-1522120692534-7a1b6c4a67a2"
      },
      {
        title: "Bộ tứ siêu đẳng",
        genre: "Hài",
        desc: "Những tình huống hài hước trong cuộc sống khiến ai cũng phải bật cười.",
        img: "https://images.unsplash.com/photo-1522120692534-7a1b6c4a67a2"
      },
      {
        title: "Bộ tứ siêu đẳng",
        genre: "Hài",
        desc: "Những tình huống hài hước trong cuộc sống khiến ai cũng phải bật cười.",
        img: "https://images.unsplash.com/photo-1522120692534-7a1b6c4a67a2"
      },
      {
        title: "Bộ tứ siêu đẳng",
        genre: "Hài",
        desc: "Những tình huống hài hước trong cuộc sống khiến ai cũng phải bật cười.",
        img: "https://images.unsplash.com/photo-1522120692534-7a1b6c4a67a2"
      },
      {
        title: "Bộ tứ siêu đẳng",
        genre: "Hài",
        desc: "Những tình huống hài hước trong cuộc sống khiến ai cũng phải bật cười.",
        img: "https://images.unsplash.com/photo-1522120692534-7a1b6c4a67a2"
      },
      {
        title: "Bộ tứ siêu đẳng",
        genre: "Hài",
        desc: "Những tình huống hài hước trong cuộc sống khiến ai cũng phải bật cười.",
        img: "https://images.unsplash.com/photo-1522120692534-7a1b6c4a67a2"
      },
    ];

    const movieGrid = document.getElementById("movieGrid");
    const searchInput = document.getElementById("searchInput");
    const genreFilter = document.getElementById("genreFilter");
    const modal = document.getElementById("movieModal");
    const closeModal = document.getElementById("closeModal");
    const modalImage = document.getElementById("modalImage");
    const modalTitle = document.getElementById("modalTitle");
    const modalGenre = document.getElementById("modalGenre");
    const modalDesc = document.getElementById("modalDesc");

    function renderMovies() {
      const searchText = searchInput.value.toLowerCase();
      const genre = genreFilter.value;
      movieGrid.innerHTML = "";

      const filtered = movies.filter(m => 
        (genre === "all" || m.genre === genre) &&
        m.title.toLowerCase().includes(searchText)
      );

      filtered.forEach(m => {
        const card = document.createElement("div");
        card.classList.add("movie-card");
        card.innerHTML = `
          <img src="${m.img}" alt="${m.title}">
          <div class="movie-info">
            <h3>${m.title}</h3>
            <p>${m.genre}</p>
          </div>
        `;
        card.addEventListener("click", () => openModal(m));
        movieGrid.appendChild(card);
      });
    }

    function openModal(movie) {
      modalImage.src = movie.img;
      modalTitle.textContent = movie.title;
      modalGenre.textContent = "Thể loại: " + movie.genre;
      modalDesc.textContent = movie.desc;
      modal.style.display = "flex";
    }

    closeModal.addEventListener("click", () => modal.style.display = "none");
    window.addEventListener("click", (e) => {
      if (e.target === modal) modal.style.display = "none";
    });
    searchInput.addEventListener("input", renderMovies);
    genreFilter.addEventListener("change", renderMovies);

    renderMovies();
  </script>
</body>
</html>
